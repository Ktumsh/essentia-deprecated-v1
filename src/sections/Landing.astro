---
import LandingCrop from "@/icons/landing-crop.astro";
import HomeLine from "@/components/Landing/HomeLine.astro";
import LandingSection from "@/components/Landing/LandingSection.astro";
---

<article class="size-full break-words font-normal text-base-color z-40">
  <div class="relative flex px-5 pt-24 sm:pt-52 container-xl">
    <HomeLine />
    <div class="flex flex-col pl-6 sm:pl-0">
      <div class="text-start">
        <h1
          class="text-5xl sm:text-[72px] sm:leading-[76px] lg:text-[80px] lg:leading-[80px] tracking-tight font-medium mb-4 lg:-ml-[7px] max-w-4xl"
        >
          <span class="text-4xl sm:text-5xl md:text-7xl"
            >La Información de Salud Esencial para tu Bienestar</span
          >
        </h1>
        <p class="text-lg sm:text-2xl mb-4 sm:mb-24">
          Todo lo que necesitas para una vida <span class="text-orient-700"
            >más saludable</span
          > y equilibrada
        </p>
      </div>
      <div class="flex flex-col sm:flex-row">
        <a
          href="/signup"
          type="button"
          aria-label="Registrar usuario"
          class="btn_mktg relative inline-block py-4 px-6 text-[17px] leading-4 align-middle text-center whitespace-nowrap rounded-xl font-extrabold text-cerise-red-600 hover:text-cerise-red-800 shadow-[0_0_0_1px_rgb(201,53,96)] hover:shadow-[0_0_0_2px_rgb(142,35,73)] transition-shadow duration-200"
        >
          Únete a Essentia
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="inline-block arrow-symbol-mktg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            ><path
              fill="currentColor"
              d="M7.28033 3.21967C6.98744 2.92678 6.51256 2.92678 6.21967 3.21967C5.92678 3.51256 5.92678 3.98744 6.21967 4.28033L7.28033 3.21967ZM11 8L11.5303 8.53033C11.8232 8.23744 11.8232 7.76256 11.5303 7.46967L11 8ZM6.21967 11.7197C5.92678 12.0126 5.92678 12.4874 6.21967 12.7803C6.51256 13.0732 6.98744 13.0732 7.28033 12.7803L6.21967 11.7197ZM6.21967 4.28033L10.4697 8.53033L11.5303 7.46967L7.28033 3.21967L6.21967 4.28033ZM10.4697 7.46967L6.21967 11.7197L7.28033 12.7803L11.5303 8.53033L10.4697 7.46967Z"
            ></path><path
              class="octicon-chevrow-stem"
              stroke="currentColor"
              d="M1.75 8H11"
              stroke-width="1.5"
              stroke-linecap="round"></path></svg
          >
        </a>
      </div>
      <div class="h-48"></div>
    </div>
  </div>

  <article
    class="relative size-full break-words font-normal text-base-color dark:text-base-color-dark-h bg-[url('/extras/essentia-bg-page.png')] bg-center bg-no-repeat"
  >
    <div
      class="absolute inset-0 bg-[url(https://cdn.prod.website-files.com/6257adef93867e50d84d30e2/664f212db01d13abd533fda6_Texture%203.webp)] bg-no-repeat bg-[length:95.5%] bg-[100%_-33%] bg-scroll"
    >
    </div>
    <div class="abolute w-full top-0 left-0">
      <LandingCrop
        class="absolute block w-full h-28 z-10"
        fill="fill-gray-100"
      />
      <LandingSection
        sectionId="nuestros_recursos"
        classSection="pt-60 pb-40"
        classBento="lg:pr-14 slideleft"
        classInner="lg:flex-row-reverse"
        sectionName="Nuestros recursos"
        title="Infórmate, aprende y descubre todo sobre tu salud y la de otros en un sólo lugar"
        description="Descubre cómo tener una vida saludable, visualiza tutoriales para ejercicios, información de nutrición, consejos sobre el bienestar emocional, tu salud sexual y aborda las necesidades específicas según tú edad o la de otros."
        img="/essentia-screenshot-2.png"
        imgAlt="Recursos de Essentia"
      >
        <div slot="bubble">
          <img
            class="bubble absolute -left-[30%] sm:-left-[10%] lg:left-[11%] top-[18%] opacity-90 w-[250px] blur-xl"
            src="/surface-01.svg"
            alt="bubble1"
          />
          <img
            class="bubble absolute -right-[30%] sm:-right-[15%] lg:right-[9%] bottom-[35%] w-[300px] blur-xl"
            src="/surface-03.svg"
            alt="bubble3"
          />
        </div>
      </LandingSection>
      <LandingSection
        sectionId="nuestro_metodo"
        classSection="py-28 lg:py-40"
        classBento="lg:pl-14 slideright"
        classInner="lg:flex-row"
        sectionName="Nuestro método"
        title="Promovemos la salud y el bienestar de forma rápida y amigable"
        description="Creemos que la salud es invaluable y todos, sin importar la situación, merecen disfrutar de una vida plena. Es por eso que nos enfocamos en proporcionarte información basándonos en lo fundamental, lo relevante y lo esencial."
        img="/essentia-screenshot-7.png"
        imgAlt="Metodo de Essentia"
      >
        <div slot="bubble">
          <img
            class="bubble absolute -left-[5%] lg:left-[14%] top-[4%] w-[200px] blur-xl"
            src="/surface-02.svg"
            alt="bubble2"
          />
        </div>
      </LandingSection>
      <LandingSection
        sectionId="noticias_al_dia"
        classSection="py-28 lg:py-40"
        classBento="lg:pr-14 slideleft"
        classInner="lg:flex-row-reverse"
        sectionName="Noticias al día"
        title="Mantente al tanto de las actualizaciones en el mundo"
        description="Descubre avances médicos, consejos de expertos y descubrimientos en salud. Desde consejos prácticos sobre el bienestar hasta reportajes sobre el tema, encuentra artículos actualizados que te ayudarán a comprender los desafíos y soluciones en salud a nivel mundial."
        img="/essentia-screenshot-4.png"
        imgAlt="Noticias de Essentia"
      >
        <div slot="bubble">
          <img
            class="bubble absolute -right-[15%] sm:-right-[10%] lg:right-[10%] top-[0%] opacity-90 w-[150px] blur-xl"
            src="/surface-01.svg"
            alt="bubble1"
          />
          <img
            class="bubble absolute -left-[30%] sm:-left-[15%] lg:left-[15%] bottom-[15%] w-[230px] blur-xl"
            src="/surface-03.svg"
            alt="bubble3"
          />
        </div>
      </LandingSection>
      <LandingSection
        sectionId="essentia_ai"
        classSection="py-28 lg:py-40"
        classBento="lg:pl-14 slideright"
        classInner="lg:flex-row"
        sectionName="Essentia AI"
        title="Descubre nuestra asistencia automatizada"
        description="¡Obtén respuestas rápidas y precisas sobre salud y bienestar! Nuestro asistente virtual te ofrece orientación personalizada al instante. Accede a información confiable sobre diversos temas de salud, respaldada por evidencia científica, para tomar decisiones informadas. Descubre soluciones precisas y confiables para todas tus dudas."
        img="/essentia-screenshot-6.png"
        imgAlt="Inteligencia Artificial de Essentia"
      >
        <div slot="bubble">
          <img
            class="bubble absolute -left-[30%] sm:-left-[10%] lg:left-[40%] bottom-[20%] opacity-90 w-[200px] blur-xl"
            src="/surface-01.svg"
            alt="bubble1"
          />
          <img
            class="bubble absolute -right-[5%] lg:right-[28%] -top-[5%] w-[150px] blur-xl"
            src="/surface-02.svg"
            alt="bubble2"
          />
          <img
            class="absolute -right-[5%] lg:right-[15%] top-[0%] sm:top-[9%] w-[180px] sm:w-[200px] drop-shadow-[6px_15px_4px_rgba(0,0,0,0.3)] z-20"
            src="/extras/essentia-utils-01.png"
            alt="bubble2"
          />
        </div>
      </LandingSection>
      <section
        id="todo_y_mas"
        class="relative size-full px-5 sm:px-10 py-28 pb-64 lg:pb-80 lg:py-40"
      >
        <div class="size-full max-w-[1250px] mx-auto">
          <div class="flex flex-col items-center max-w-[1200px] mx-auto mb-10">
            <h2
              class="text-3xl sm:text-6xl font-black tracking-wider uppercase text-center text-base-color"
            >
              Essentia contará con una versión
              <span class="text-transparent bg-clip-text bg-dark-gradient-v2"
                >premium
              </span> próximamente...
            </h2>
          </div>
          <div
            class="flex flex-col items-center justify-center w-full sm:w-96 mx-auto gap-6 text-center"
          >
            <a
              type="button"
              aria-label="Autenticar usuario"
              class="relative inline-flex items-center justify-center overflow-hidden w-full h-14 px-4 sm:px-8 font-medium text-lg rounded-full bg-light-gradient hover:shadow-[0_8px_8px_rgba(0,0,0,0.2)] active:scale-[.98] active:transition-none active:shadow-none active:brightness-90 text-white transition"
              href="/login"
              >Unirse a Essentia
            </a>
            <a
              type="button"
              aria-label="Autenticar usuario"
              class="relative inline-flex items-center justify-center overflow-hidden w-full h-14 px-4 sm:px-8 font-medium text-lg rounded-full bg-base-dark-40 hover:shadow-[0_8px_8px_rgba(0,0,0,0.2)] active:scale-[.98] active:transition-none active:shadow-none active:brightness-90 text-white transition"
              href=""
              >Echar vistazo a Essentia Plus
            </a>
          </div>
        </div>
      </section>
      <LandingCrop class="absolute block w-full h-28 bottom-0 rotate-180" />
    </div>
  </article>
</article>

<style is:global>
  #slideup {
    animation: slide-up linear both;
    animation-timeline: view();
    animation-range: entry 10% cover 20%;
  }

  @keyframes slide-up {
    0% {
      opacity: 0;
      transform: translateY(100%);
      scale: 0.7;
    }
    100% {
      opacity: 1;
      transform: translateY(0);
      scale: 1;
    }
  }

  .slideleft {
    transition:
      opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0;
    transform: translateX(15px);
  }

  .slideright {
    transition:
      opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0;
    transform: translateX(-15px);
  }

  .build-in-animate {
    transform: translateX(0) !important;
    opacity: 1 !important;
  }

  #fadeup {
    animation: fade-up linear both;
    animation-timeline: view();
    animation-range: entry 10% cover 20%;
  }

  @keyframes fade-up {
    0% {
      opacity: 0;
      translate: 0 50px;
      scale: 0.7;
    }
    100% {
      opacity: 1;
      translate: 0 0;
      scale: 1;
    }
  }

  #circle-1 {
    animation: circle-1 1.5s linear infinite;
  }

  @keyframes circle-1 {
    0% {
      opacity: 0;
    }
    60% {
      opacity: 0;
      transform: scale(0.6);
    }
    80% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      transform: scale(1);
    }
  }

  #circle-2 {
    opacity: 0;
    animation: circle-2 1.5s linear infinite;
    animation-delay: 0.4s;
  }

  @keyframes circle-2 {
    0% {
      opacity: 0;
    }
    60% {
      opacity: 0;
      transform: scale(0.2);
    }
    80% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      transform: scale(1);
    }
  }

  .gradient_border::before {
    content: "";
    position: absolute;
    top: 3.4px;
    left: 3px;
    width: 98.5%;
    height: 95%;
    background: #fff;
    border-radius: 0.85rem;
  }

  .octicon-chevrow-stem {
    width: 1em;
    height: 1em;
    stroke-dasharray: 10;
    stroke-dashoffset: 10;
    transition: stroke-dashoffset 0.2s;
  }

  .btn_mktg:hover .octicon-chevrow-stem {
    stroke-dashoffset: 20;
  }

  .btn_mktg:active .octicon-chevrow-stem {
    stroke-dashoffset: 20;
  }

  .arrow-symbol-mktg {
    transition: transform 0.2s;
    transform: translateX(0);
  }

  .btn_mktg:hover .arrow-symbol-mktg {
    transform: translateX(4px);
  }

  .btn_mktg:active .arrow-symbol-mktg {
    transform: translateX(4px);
  }

  .build-in-animate-line {
    transform: scaleY(1) !important;
  }

  #line-1 {
    transition: transform 2s cubic-bezier(0.16, 1, 0.3, 1);
    transform: scaleY(0);
    transform-origin: 0 0;
  }

  .bubble {
    transition: transform 0.3s ease-out;
    will-change: transform;
    z-index: 0;
  }
</style>

<script>
  import { $, $$ } from "@/lib/dom-selector";

  document.addEventListener("astro:page-load", () => {
    const line2 = $("#line-1");

    if (line2) {
      setTimeout(() => {
        line2.classList.add("build-in-animate-line");
      }, 1500);
    }

    const slideLeftElements = $$(".slideleft");
    const slideRightElements = $$(".slideright");

    const observerOptions = {
      root: null,
      rootMargin: "0px",
      threshold: 0.3,
    };

    const observerCallback = (entries: IntersectionObserverEntry[]): void => {
      entries.forEach((entry) => {
        if (entry.intersectionRatio >= 0.3)
          entry.target.classList.add("build-in-animate");
      });
    };

    const observer = new IntersectionObserver(
      observerCallback,
      observerOptions
    );

    slideLeftElements.forEach((element) => observer.observe(element));
    slideRightElements.forEach((element) => observer.observe(element));
  });
</script>
<script>
  import { $$ } from "@/lib/dom-selector";

  document.addEventListener("astro:page-load", () => {
    const bubbles = $$(".bubble");
    const inView = new Map<Element, number>();
    const speed = 0.1;

    const options = {
      root: null,
      rootMargin: "0px",
      threshold: 0.1,
    };

    const handleScroll = () => {
      const scrollY = window.scrollY;
      inView.forEach((initialScrollY, image) => {
        const deltaY = scrollY - initialScrollY;
        const translateYValue = deltaY > 0 ? deltaY * speed : 0;
        (image as HTMLElement).style.transform =
          `translate3d(0px, ${translateYValue}px, 0px)`;
      });
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        entry.isIntersecting
          ? inView.set(entry.target, window.scrollY)
          : (inView.delete(entry.target),
            ((entry.target as HTMLElement).style.transform = ""));
      });
    }, options);

    bubbles.forEach((image) => {
      observer.observe(image);
    });

    window.addEventListener("scroll", handleScroll);
  });
</script>
